!function(a,b,c){"use strict";b.module("matchmedia-ng",[]).provider("matchmedia",function(){var a={rules:{print:"print",screen:"screen",phone:"(max-width: 767px)",tablet:"(min-width: 768px) and (max-width: 979px)",desktop:"(min-width: 979px)",portrait:"(orientation: portrait)",landscape:"(orientation: landscape)"}};return a.$get=["$window","safeApply","logger",function(b,d,e){function f(a,b){return function(c){d(function(){a(c)},b)}}e.log("Creating matchmedia");var g={};return g.on=function(a,d,g){var h=b.matchMedia!==c&&!!b.matchMedia("all").addListener;if(h){e.log("adding listener for query: "+a);var i=b.matchMedia(a),j=f(d,g);return i.addListener(j),j(i),function(){e.log("removing listener from query: "+a),i.removeListener(j)}}},g.is=function(a){return e.log("test query: "+a),b.matchMedia(a).matches},g.onPrint=function(b,c){return g.on(a.rules.print,b,c)},g.onScreen=function(b,c){return g.on(a.rules.screen,b,c)},g.onPhone=function(b,c){return g.on(a.rules.phone,b,c)},g.onTablet=function(b,c){return g.on(a.rules.tablet,b,c)},g.onDesktop=function(b,c){return g.on(a.rules.desktop,b,c)},g.onPortrait=function(b,c){return g.on(a.rules.portrait,b,c)},g.onLandscape=function(b,c){return g.on(a.rules.landscape,b,c)},g.isPrint=function(){return g.is(a.rules.print)},g.isScreen=function(){return g.is(a.rules.screen)},g.isPhone=function(){return g.is(a.rules.phone)},g.isTablet=function(){return g.is(a.rules.tablet)},g.isDesktop=function(){return g.is(a.rules.desktop)},g.isPortrait=function(){return g.is(a.rules.portrait)},g.isLandscape=function(){return g.is(a.rules.landscape)},g}],a}).directive("ajMatchmedia",["matchmedia",function(a){return{restrict:"E",scope:{queryListener:"&",queryMatches:"="},link:function(b,c,d){var e;d.on&&d.queryListener?(e="on"===d.on.slice(0,2)&&"undefined"!==a[d.on]?a[d.on](function(a){b.queryListener({mediaQueryList:a})}):a.on(d.on,function(a){b.queryListener({mediaQueryList:a})}),b.$on("$destroy",e)):d.is&&d.queryMatches&&(b.queryMatches="is"===d.is.slice(0,2)&&"undefined"!==a[d.is]?a[d.is]():a.is(d.is))}}}]).factory("safeApply",["$rootScope",function(a){return function(b,c){c=c||a;var d=c.$root.$$phase;"$apply"==d||"$digest"==d?b&&c.$eval(b):b?c.$apply(b):c.$apply()}}]).provider("logger",function(){this.DEVMODE=!1,this.setDEVMODE=function(a){this.DEVMODE=a},this.$get=["$window","$log",function(a,b){var c=this.DEVMODE,d={};return d.log=function(){c&&b.info(arguments)},d.always=function(){b.info(arguments)},d}]})}(window,window.angular);