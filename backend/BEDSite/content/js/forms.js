function convertSpecToCode(a){var b={"Eating Disorder Clinician":"EDC","Internal Medicine":"IM","Primary Care Physician":"PCPR",Psychiatrist:"P",Psychologist:"PSY",Other:"OS"};return b[a]?b[a]:null}function convertStateToAbbr(a){var b={Alabama:"AL",Alaska:"AK",Arizona:"AZ",Arkansas:"AR",California:"CA",Colorado:"CO",Connecticut:"CT",Delaware:"DE","District of Columbia":"DC",Florida:"FL",Georgia:"GA",Hawaii:"HI",Idaho:"ID",Illinois:"IL",Indiana:"IN",Iowa:"IA",Kansas:"KS",Kentucky:"KY",Louisiana:"LA",Maine:"ME",Maryland:"MD",Massachusetts:"MA",Michigan:"MI",Minnesota:"MN",Mississippi:"MS",Missouri:"MO",Montana:"MT",Nebraska:"NE",Nevada:"NV","New Hampshire":"NH","New Jersey":"NJ","New Mexico":"NM","New York":"NY","North Carolina":"NC","North Dakota":"ND",Ohio:"OH",Oklahoma:"OK",Oregon:"OR",Pennsylvania:"PA","Rhode Island":"RI","South Carolina":"SC","South Dakota":"SD",Tennessee:"TN",Texas:"TX",Utah:"UT",Vermont:"VT",Virginia:"VA",Washington:"WA","West Virginia":"WV",Wisconsin:"WI",Wyoming:"WY"};return b[a]?b[a]:null}(function(){function a(a,b,c,e,f,g,h){a.states=d,a.invalidform=!1,a.MID=b.parseUri(b.location.href).queryKey.mid||0,a.form={optoutchoice:"none"},a.form.state=a.states[0],a.unsubscribe=function(){var b=$(document).height()-$(window).height(),c=$(window).scrollTop(),d=b-c;if(!a.bed_form.$valid)return void(a.invalidform=!0);switch(g(function(){var a=$(document).height()-$(window).height(),b=$(window).scrollTop(),e=a-b,f=e-d;$(window).scrollTop(c+f)},100),$("input:checked").val()){case"email":a.unsubscribeEmail();break;case"direct":a.unsubscribeDirect();break;case"both":a.unsubscribeAll()}},a.unsubscribeAll=function(){if(angular.equals(a.form.state,"*State"))return void(a.invalidform=!0);var b,c={email:{Email:a.form.email,ConfirmEmail:a.form.email},address:{FName:a.form.fname,MName:a.checkFormPresent(a.form.MI),LName:a.form.lname,Address1:a.form.street,Address2:a.checkFormPresent(a.form.suite),City:a.form.city,State:convertStateToAbbr(a.form.state),Zip:a.form.zip},sourceCode:a.MID};b="/Unsubscribe/Service/BEDUnsubscribe.svc/SetUnsubscribeDataBoth",Data=JSON.stringify(c),a.processForm(b,Data)},a.unsubscribeDirect=function(){if(angular.equals(a.form.state,"*State"))return void(a.invalidform=!0);var b,c={email:{Email:a.form.email,ConfirmEmail:a.form.email},address:{FName:a.form.fname,MName:a.checkFormPresent(a.form.MI),LName:a.form.lname,Address1:a.form.street,Address2:a.checkFormPresent(a.form.suite),City:a.form.city,State:convertStateToAbbr(a.form.state),Zip:a.form.zip},sourceCode:a.MID};b="/Unsubscribe/Service/BEDUnsubscribe.svc/SetUnsubscribeDataAddress",Data=JSON.stringify(c),a.processForm(b,Data)},a.unsubscribeEmail=function(){var b,c={email:{Email:a.form.email,ConfirmEmail:a.form.email},sourceCode:a.MID};b="/Unsubscribe/Service/BEDUnsubscribe.svc/SetUnsubscribeDataEmail",Data=JSON.stringify(c),a.processForm(b,Data)},a.processForm=function(b,c){h({headers:{"Content-Type":"application/json; charset=utf-8"},method:"POST",url:b,data:c}).success(function(){a.clearFormData(),BED.Modal.open("unsubscribe"),BED.Analytics.formOnComplete("Unsubscribe")}).error(function(){a.clearFormData(),BED.Modal.open("unsubscribe_error")})},a.checkFormPresent=function(a){return a?a:null},a.clearFormData=function(){a.bed_form.$setPristine(),a.invalidform=!1,a.form.email=null,a.form.fname=null,a.form.MI=null,a.form.lname=null,a.form.street=null,a.form.suite=null,a.form.city=null,a.form.state=0,a.form.zip=null}}function b(a,b,c,e,f,g,h){a.states=d,a.MID=b.parseUri(b.location.href).queryKey.mid||0,a.invalidform=!1,a.professions=["*Profession","Eating Disorder Clinician","Internal Medicine","Primary Care Physician","Psychiatrist","Psychologist","Other"],a.form={},a.form.state=a.states[0],a.form.profession=a.professions[0],a.optIn=function(){var b,c=$(document).height()-$(window).height(),d=$(window).scrollTop(),e=c-d,f={optIn:{CommunicationsOptIn:1,Email:{Email:a.form.email,ConfirmEmail:a.form.email},Name:{FName:a.form.fname,LName:a.form.lname}},sourceCode:a.MID};return a.bed_form.$valid?(g(function(){var a=$(document).height()-$(window).height(),b=$(window).scrollTop(),c=a-b,f=c-e;$(window).scrollTop(d+f)},100),b="Service/BEDService.svc/SetOptInData",Data=JSON.stringify(f),void a.processOptIn(b,Data)):void(a.invalidform=!0)},a.checkFormPresent=function(a){return a?a:null},a.clearFormData=function(){a.bed_form.$setPristine(),a.invalidform=!1,a.form.email=null,a.form.confirmemail=null,a.form.fname=null,a.form.MI=null,a.form.lname=null,a.form.street=null,a.form.suite=null,a.form.city=null,a.form.state=0,a.form.zip=null,a.form.profession=0,a.form.checkbox=!1},a.processOptIn=function(b,c){h({headers:{"Content-Type":"application/json; charset=utf-8"},method:"POST",url:b,data:c,dataType:"json"}).success(function(){a.clearFormData(),BED.SlideOut.close(),BED.Modal.open("signup"),BED.Analytics.formOnComplete("Registration")}).error(function(){a.clearFormData(),BED.Modal.open("signup_error")})}}var c,d=["*State","Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","District of Columbia","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Missippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"];c=angular.module("BED.controllers",[]),c.controller("UnsubscribeController",["$scope","$window","$location","$log","$document","$timeout","$http",a]),c.controller("OptInController",["$scope","$window","$location","$log","$document","$timeout","$http",b])}).call(this),function(){var a=angular.module("BED.directives",[]);a.directive("stateselect",function(){return{require:"ngModel",link:function(a,b,c,d){d.$parsers.unshift(function(a){return"*State"===a?(d.$setValidity("stateselect",!1),a):(d.$setValidity("stateselect",!0),a)})}}}),a.directive("profselect",function(){return{require:"ngModel",link:function(a,b,c,d){d.$parsers.unshift(function(a){return"*Profession"===a?(d.$setValidity("profselect",!1),a):(d.$setValidity("profselect",!0),a)})}}}),a.directive("ngIf",function(){return{link:function(a,b){$("input, textarea",b).placeholder()}}})}.call(this),function(){var a;a=angular.module("BED",["BED.controllers","BED.directives","ui.utils"])}.call(this);