<?xml version="1.0"?>
<configuration>
  <configSections>
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler, log4net" />
  </configSections>
  
    <connectionStrings>
        <clear/>
        <add name="cpihEventConnectionString" connectionString="Data source=10.39.64.30;Initial Catalog=TEST_CPIH-Events;Persist Security Info=True;User ID=userCDM;Password=U$3rSid3m" providerName="System.Data.SqlClient" />
        <add name="novoSRTConnectionString" connectionString="Data source=10.39.64.30;Initial Catalog=TEST_NovoSevenRT_POA;Persist Security Info=True;User ID=userCDM;Password=U$3rSid3m" providerName="System.Data.SqlClient" />
    </connectionStrings>
    <appSettings>
        <add key="verboseLog" value="false" />
        <add key="isDebug" value="false" />
        <add key="refString" value="localhost" />
        <add key="groupToSearch" value="VPN_CDM" />
      
        <add key="request_username" value="cdmWSUser" />
        <add key="request_password" value="cdm321!!" />
        <add key="inputvalidation" value="Y" />
        <!--
        <add key="ldapserver" value="LDAP:// nnildap.corp.novocorp.net/"/>
        <add key="domainname" value="OU=UserAccounts,OU=USNJ,OU=Company,DC=corp,DC=novocorp,DC=net"/>
             
        -->
        <add key="ldapServer" value="LDAP://gal.sscg.local:389/DC=sscg,DC=local"/>
        <add key="ldapDomainName" value="OU=Users,OU=SSCG,DC=sscg,DC=local"/>
        <add key="ldapFilter" value="(SAMAccountName={0})" />

        <add key="filePath" value="hcs/download"/>
        <add key="fileVirtualPath" value="~/repfiles/"/>
        <add key="fileExtension" value=".xlsx"/>

    </appSettings>
  
    <system.web>
        <compilation debug="true" targetFramework="4.0" />
        <httpRuntime executionTimeout="90" maxRequestLength="32768" />

      <authentication mode="Windows" />

      <authorization>
        <deny users="?"/>
      </authorization>
    </system.web>

      <log4net>
        <root>
          <level value="ALL" />
          <appender-ref ref="AdoNetAppender" />
          <appender-ref ref="RollingFileAppender" />
        </root>

        <appender name="AdoNetAppender" type="log4net.Appender.AdoNetAppender">
          <bufferSize value="1" />
          <connectionType value="System.Data.SqlClient.SqlConnection, System.Data, Version=1.0.3300.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
          <connectionString value="Data source=10.39.64.30;Initial Catalog=TEST_CPIH-Events;Persist Security Info=True;User ID=userCDM;Password=U$3rSid3m" providerName="System.Data.SqlClient" />
          <commandText value="INSERT INTO [RegLog]([Level],[Message],[Method],[Exception])
                              VALUES (@level, @message, @method, @exception)" />
          <parameter>
            <parameterName value="@level" />
            <dbType value="String" />
            <size value="50" />
            <layout type="log4net.Layout.PatternLayout">
              <conversionPattern value="%level" />
            </layout>
          </parameter>
          <parameter>
            <parameterName value="@message" />
            <dbType value="String" />
            <size value="255" />
            <layout type="log4net.Layout.PatternLayout" >
              <conversionPattern value="%message" />
            </layout>
          </parameter>
          <parameter>
            <parameterName value="@method" />
            <dbType value="String" />
            <size value="255" />
            <layout type="log4net.Layout.PatternLayout" >
              <conversionPattern value="%method" />
            </layout>
          </parameter>
          <parameter>
            <parameterName value="@exception" />
            <dbType value="String" />
            <size value="3000" />
            <layout type="log4net.Layout.ExceptionLayout">
              <conversionPattern value="%exception" />
            </layout>
          </parameter>
        </appender>

        <appender name="RollingFileAppender" type="log4net.Appender.RollingFileAppender">
          <file value="HCSLogFile.txt" />
          <appendToFile value="true" />
          <rollingStyle value="Size" />
          <maxSizeRollBackups value="5" />
          <maximumFileSize value="10MB" />
          <staticLogFileName value="true" />
          <layout type="log4net.Layout.PatternLayout">
            <conversionPattern value="%date [%thread] %level %logger - %message%newline" />
          </layout>
        </appender>
      </log4net>

  
  
    <system.serviceModel>
        <serviceHostingEnvironment aspNetCompatibilityEnabled="true">
        </serviceHostingEnvironment>
        <standardEndpoints>
            <webHttpEndpoint>
                <standardEndpoint name="" helpEnabled="true" automaticFormatSelectionEnabled="true" maxReceivedMessageSize="2147483647" maxBufferSize="2147483647">
                    <readerQuotas 
                       maxDepth="2147483647" 
                       maxStringContentLength="2147483647"
                       maxArrayLength="2147483647"
                       maxBytesPerRead="2147483647"
                       maxNameTableCharCount="2147483647" />
                </standardEndpoint>
            </webHttpEndpoint>
        </standardEndpoints>
    </system.serviceModel>
    <system.webServer>
        <modules runAllManagedModulesForAllRequests="true"/>
        <validation validateIntegratedModeConfiguration="false" />
        <handlers>
            <remove name="ExtensionlessUrlHandler-ISAPI-4.0_32bit" />
            <remove name="ExtensionlessUrlHandler-ISAPI-4.0_64bit" />
            <remove name="ExtensionlessUrlHandler-Integrated-4.0" />
            <add name="ExtensionlessUrlHandler-ISAPI-4.0_32bit" path="." verb="GET,HEAD,POST,DEBUG,PUT,DELETE,PATCH,OPTIONS" modules="IsapiModule" scriptProcessor="windir\Microsoft.NET\Framework\v4.0.30319\aspnet_isapi.dll" preCondition="classicMode,runtimeVersionv4.0,bitness32" responseBufferLimit="0" />
            <add name="ExtensionlessUrlHandler-ISAPI-4.0_64bit" path="." verb="GET,HEAD,POST,DEBUG,PUT,DELETE,PATCH,OPTIONS" modules="IsapiModule" scriptProcessor="windir\Microsoft.NET\Framework64\v4.0.30319\aspnet_isapi.dll" preCondition="classicMode,runtimeVersionv4.0,bitness64" responseBufferLimit="0" />
            <add name="ExtensionlessUrlHandler-Integrated-4.0" path="*." verb="GET,HEAD,POST,DEBUG,PUT,DELETE,PATCH,OPTIONS" type="System.Web.Handlers.TransferRequestHandler" preCondition="integratedMode,runtimeVersionv4.0" />

        </handlers>
        <httpProtocol>
            <customHeaders>
                <add name="Access-Control-Allow-Origin" value="*" />
                <add name="Access-Control-Allow-Headers" value="Authorization, Content-Type, Origin, X-Requested-With" />
                <add name="Access-Control-Allow-Methods" value="GET, POST, PUT, DELETE, OPTIONS" />
            </customHeaders>
        </httpProtocol>
        <!--
        <httpProtocol>
            <customHeaders>
                <add name="Access-Control-Allow-Origin" value="*" />
                <add name="Access-Control-Allow-Headers" value="Content-Type, Origin, X-Requested-With" />
                <add name="Access-Control-Allow-Methods" value="GET, POST, PUT, DELETE, OPTIONS" />
            </customHeaders>
        </httpProtocol> -->
    </system.webServer>

</configuration>
